% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/climdex.r
\name{climdexInput.raw}
\alias{climdexInput.raw}
\title{Method for creating climdexInput object from vectors of data}
\usage{
climdexInput.raw(tmax = NULL, tmax.dates = NULL, tmin = NULL,
  tmin.dates = NULL, tavg = NULL, tavg.dates = NULL, prec = NULL,
  prec.dates = NULL, snow = NULL, snow.dates = NULL, snow_new = NULL,
  snow_new.dates = NULL, wind = NULL, wind.dates = NULL,
  wind_gust = NULL, wind_gust.dates = NULL, wind_dir = NULL,
  wind_dir.dates = NULL, cloud = NULL, cloud.dates = NULL, sun = NULL,
  sun.dates = NULL, sun_rel = NULL, sun_rel.dates = NULL,
  quantiles = NULL, temp.qtiles = c(0.1, 0.25, 0.75, 0.9),
  prec.qtiles = c(0.25, 0.75, 0.95, 0.99), base.range = c(1961, 1990),
  n = 5, northern.hemisphere = TRUE, max.missing.days = c(annual = 15,
  halfyear = 10, seasonal = 8, monthly = 3),
  min.base.data.fraction.present = 0.1)
}
\arguments{
\item{tmax}{Daily maximum temperature data [degC].}

\item{tmax.dates}{Dates for the daily maximum temperature data.}

\item{tmin}{Daily minimum temperature data [degC].}

\item{tmin.dates}{Dates for the daily minimum temperature data.}

\item{tavg}{Daily mean temperature data [mm].}

\item{tavg.dates}{Dates for the daily mean temperature data.}

\item{prec}{Daily total precipitation data [degC].}

\item{prec.dates}{Dates for the daily total precipitation data.}

\item{snow}{Daily total snow depth data [cm].}

\item{snow.dates}{Dates for the daily total snow depth data.}

\item{snow_new}{Daily snowfall (new snow depth) data [cm].}

\item{snow_new.dates}{Dates for the daily snowfall (new snow depth) data.}

\item{wind}{Daily mean wind speed (skalar) data [m/s].}

\item{wind.dates}{Dates for the daily mean wind speed (skalar) data.}

\item{wind_gust}{Daily maximum wind gust data [m/s].}

\item{wind_gust.dates}{Dates for the daily maximum wind gust data.}

\item{wind_dir}{Daily mean wind direction data [deg] (0deg/360deg meaning north wind).}

\item{wind_dir.dates}{Dates for the daily mean wind direction data.}

\item{cloud}{Daily mean cloud cover data [octa] or [\%].}

\item{cloud.dates}{Dates for the daily mean cloud cover data.}

\item{sun}{Daily total sunshine duration data [h].}

\item{sun.dates}{Dates for the daily total sunshine duration data.}

\item{sun_rel}{Daily relative sunshine duration data [\%].}

\item{sun_rel.dates}{Dates for the daily relative sunshine duration data.}

\item{quantiles}{Threshold quantiles for supplied variables.}

\item{temp.qtiles}{Quantiles to calculate for temperature variables}

\item{prec.qtiles}{Quantiles to calculate for precipitation}

\item{base.range}{Years to use for the baseline.}

\item{n}{Number of days to use as window for daily quantiles.}

\item{northern.hemisphere}{Whether this point is in the northern hemisphere.}

\item{max.missing.days}{Vector containing thresholds for number of days
allowed missing per year (annual) and per month (monthly).}

\item{min.base.data.fraction.present}{Minimum fraction of base data that must
be present for quantile to be calculated for a particular day}
}
\value{
An object of class \code{\link{climdexInput-class}} for use with
other climdex methods.
}
\description{
This function creates a climdexInput object from data already ingested into
R.

For all data supplied, the associated dates must also be supplied.
}
\details{
This function takes input climate data at daily resolution, and produces as
output a ClimdexInput data structure. This data structure can then be passed
to any of the routines used to compute the Climdex indices. The indices
themselves are specified on the webpage cited in the references section.
The \code{base.range} argument is a pair of 4 digit years which bound the
data on which the base percentiles are calculated.

The \code{tmax}, \code{tmin}, and \code{prec} arguments are numeric vectors
containing the data on which the indices are to be computed. The units are
assumed to be degrees C for temperature, and mm/day for precipitation.

The \code{tmax.dates}, \code{tmin.dates}, and \code{prec.dates} arguments
are vectors of type \code{PCICt}.

The \code{n} argument specifies the size of the window used when computing
the percentiles used in \code{\link{climdex.tx10p}},
\code{\link{climdex.tn10p}}, \code{\link{climdex.tx90p}}, and
\code{\link{climdex.tn90p}}.

The \code{northern.hemisphere} argument specifies whether the data came from
the northern hemisphere. If FALSE, data is assumed to have come from the
southern hemisphere. This is used when computing growing season length; if
the data is from the southern hemisphere, growing season length is the
growing season starting in the beginning of July of the year indicated,
running to the end of June of the following year.

The \code{quantiles} argument allows the user to supply pre-computed quantiles.
This is a list consisting of quantiles for each variable.

For each temperature variable, there are separate lists of quantiles for
inbase and outbase, with these names. In both cases, quantiles within these
lists are named q10 for the 10th percentile and q90 for the 90th percentile.
Other percentiles would be named qnn for the nnth percentile. For the
outbase quantiles, each element in the list is a vector of length 365 (or 360
in the case of 360-day calendars), corresponding to one value for each day of
the year. For the inbase quantiles, each element in the list is an array of
dimensions [365 or 360, nyr, nyr - 1], where nyr is the number of years in
the base period. Each value corresponds to a quantile for each day, for each
year, with a particular year replaced.

For precipitation variables, there is a named vector of quantiles, consisting
of at least q95 and q99.

The \code{temp.qtiles} and \code{prec.qtiles} arguments allow the user to
modify the quantiles calculated. For example, specifying
temp.qtiles=c(0.10, 0.50, 0.90) would calculate the 10th, 50th, and 90th
percentiles for temperature.

The \code{min.base.fraction.present} argument specifies the minimum fraction
of data which must be present for a quantile to be calculated for a
particular day. If the fraction of data present is less than this threshold,
the quantile for that day will be set to NA.

The \code{max.missing.days} argument is a vector consisting of 'annual'
(the number of days that can be missing in a year) and 'monthly' (the
number of days that can be missing in a month. If one month in a year fails
the test, the corresponding year will be omitted.
}
\note{
Units are assumed to be mm/day for precipitation and degrees Celsius
for temperature. No units conversion is performed internally.
}
\examples{
library(PCICt)

## Create a climdexInput object from some data already loaded in and
## ready to go.

## Parse the dates into PCICt.
tmax.dates <- as.PCICt(do.call(paste, ec.1018935.tmax[,c("year","jday")]),
                       format="\%Y \%j", cal="gregorian")
tmin.dates <- as.PCICt(do.call(paste, ec.1018935.tmin[,c("year","jday")]),
                       format="\%Y \%j", cal="gregorian")
prec.dates <- as.PCICt(do.call(paste, ec.1018935.prec[,c("year","jday")]),
                       format="\%Y \%j", cal="gregorian")

## Load the data in.
ci <- climdexInput.raw(tmax=ec.1018935.tmax$MAX_TEMP,
                       tmin=ec.1018935.tmin$MIN_TEMP,
                       prec=ec.1018935.prec$ONE_DAY_PRECIPITATION,
                       tmax.dates=tmax.dates,
                       tmin.dates=tmin.dates,
                       prec.dates=prec.dates,
                       base.range=c(1971, 2000))

}
\references{
\url{http://etccdi.pacificclimate.org/list_27_indices.shtml}
}
\seealso{
\code{\link{climdex.pcic-package}}, \code{\link{strptime}}.
}
\keyword{climate}
\keyword{ts}

